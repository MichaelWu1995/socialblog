{{extend './_layouts/home.html'}} {{block 'title'}}{{'Scoial Blog'}}{{/block}}
{{block 'body'}}
<div class="container" style="margin-top: 20px">
  <div class="row">
    {{include './_partials/topic-nav.html'}}
    <div class="col-md-8 offset-md-1">
      <br />
      {{if topic.length > 0}} {{each topic}}
      <ul class="media-list">
        <li class="media">
          <div class="media-left">
            <img
              width="60"
              height="60"
              class="mr-3"
              src="{{$value.image}}"
              alt="..."
            />
          </div>
          <div class="media-body">
            <h4 class="media-heading">
              <a href="/topic/{{$value.id}}" style="text-decoration: none"
                >{{$value.title}}</a
              >
            </h4>
            <p class="info">
              Issued on:
              <!-- format -->
              {{$value.last_modified_time | dateFormat 'YYYY-MM-DD HH:mm:ss'}}
              {{if $value.number > 0}} Â· {{$value.number}} {{$value.number > 1 ?
              "comments" : "comment"}} {{/if}}
            </p>
          </div>
        </li>
      </ul>
      {{/each}}
      <nav id="page">
        <ul class="pagination"></ul>
      </nav>
      {{else if topic.length == 0}}
      <div>
        <div class="d-flex justify-content-center">
          <img src="/public/img/sorry.jpg" alt="" class="sorryImage" />
        </div>
        <br />
        <div class="d-flex justify-content-center">
          <p class="text text-primary sorryText">
            Nothing to display at this page!
          </p>
        </div>
      </div>
      {{/if}}
    </div>
  </div>
</div>

{{/block}} {{block 'head'}}
<style>
  .info {
    font-size: 12px;
    color: grey;
  }
  .sorryImage {
    width: 300px;
    height: 300px;
  }

  .sorryText {
    font-size: 20px;
    font-style: italic;
  }
</style>

{{/block}} {{block 'script'}}

<script>
  $("#myList a").on("click", function (e) {
    e.preventDefault();
    $(this).tab("show");
  });
  $("#home").addClass("active");
  $("#infomation").removeClass("active");
  $("#profile").removeClass("active");

  var pathName = window.location.pathname;
  switch (pathName) {
    case "/all":
      $(".myList a").removeClass("active");
      $("#all").addClass("active");
      break;
    case "/sports":
      $(".myList a").removeClass("active");
      $("#sports").addClass("active");
      break;
    case "/diet":
      $(".myList a").removeClass("active");
      $("#diet").addClass("active");
      break;
    case "/tourism":
      $(".myList a").removeClass("active");
      $("#tourism").addClass("active");
      break;
    case "/movie":
      $(".myList a").removeClass("active");
      $("#movie").addClass("active");
      break;
    case "/others":
      $(".myList a").removeClass("active");
      $("#others").addClass("active");
      break;
  }
</script>
{{/block}}
